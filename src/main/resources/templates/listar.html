<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>LISTAGEM DE FILMES</title>
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/listar.css">
</head>

<body>
    <h2>LISTAGEM DE FILMES</h2>
    <a th:href="@{/formulario}">Cadastrar novo filme</a>
    <br><br>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>TÍTULO</th>
                <th>GÊNERO</th>
                <th>DURAÇÃO</th>
                <th colspan="2">Ações</th>
            </tr>
        </thead>
        <tbody th:each="fil : ${filmes}">
            <tr>
                <td th:text="${fil.id}"></td>
                <td th:text="${fil.titulo}"></td>
                <td th:text="${fil.genero}"></td>
                <td><span th:text="${fil.duracao}"></span> min</td>
                <td>
                    <a th:href="@{'/editar/' + ${fil.id}}" class="edit-btn">Editar</a>
                </td>
                <td>
                    <form th:action="@{'/deletar/' + ${fil.id}}" method="post" class="delete-form"
                        th:attr="data-id=${fil.id}">
                        <input type="submit" value="Deletar" class="delete-btn">
                    </form>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Modal de Confirmação -->
    <div id="confirmModal" class="modal-overlay" style="display: none;">
        <div class="modal-box">
            <h3>Tem certeza que deseja excluir este filme?</h3>
            <p>ID do filme: <span id="modalMovieId"></span></p>
            <div class="modal-actions">
                <button id="confirmBtn">Sim</button>
                <button id="cancelBtn">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="/js/script.js"></script>
</body>

</html>